<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Mapa Conceptual - Literatura Medieval</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.js"></script>
</head>
<body>
  <script>
    let mapaConceptual;
    let yStart = 30;
    const xStart = 20;   // margen izquierda fijo

    function setup() {
      createCanvas(1200, 2000);
      background(255);
      textFont('monospace');
      textSize(14);
      fill(0);

      // Título
      textStyle(BOLD);
      text("Mapa Conceptual: Literatura Medieval", xStart, yStart);
      yStart += 30;
      textStyle(NORMAL);

      // Definición del mapa conceptual
      mapaConceptual = {
        "1. La Edad Media": {
          "Duración": "Siglos V - XV",
          "Divisiones": {
            "Alta Edad Media": "Siglos V - X",
            "Baja Edad Media": "Siglos XI - XV"
          },
          "Contexto histórico": {
            "Sociedad": "Estamental (pueblo llano, nobleza, clero)",
            "Mentalidad": "Teocéntrica (Dios como centro)"
          }
        },
        "2. Características de la Literatura Medieval": [
          "Oral y anónima",
          "Finalidad didáctica y moralizante",
          "Elementos religiosos y alegóricos"
        ],
        "3. La Lírica y la Épica Medievales": {
          "Mester de Juglaría": {
            "Juglares": "Artistas ambulantes",
            "Obras": ["Cantares de gesta", "Ej: Cantar de Mio Cid"]
          },
          "Mester de Clerecía": {
            "Escritores": "Cultos, clérigos",
            "Forma": "Cuaderna vía (4 versos alejandrinos, rima consonante)",
            "Temas": ["Históricos", "Religiosos", "Didácticos"],
            "Ejemplos": {
              "Gonzalo de Berceo": "Milagros de Nuestra Señora",
              "Arcipreste de Hita": "Libro de buen amor"
            }
          }
        },
        "4. Lírica y Prosa (Siglos XIII - XIV)": {
          "Lírica popular": {
            "Jarchas": "Cancioncillas mozárabes",
            "Romancero viejo": "Versos octosílabos, rima asonante"
          },
          "Lírica culta": {
            "Cantigas de amigo": "Gallegoportugués"
          },
          "Prosa": {
            "Alfonso X el Sabio": "Obras científicas e históricas",
            "Don Juan Manuel": "El Conde Lucanor (didáctico-moralizante)"
          }
        },
        "5. Literatura del Siglo XV": {
          "Contexto histórico": [
            "Enfrentamientos entre reinos",
            "Matrimonio de Reyes Católicos",
            "Toma de Granada",
            "Descubrimiento de América",
            "Expulsión de judíos no conversos"
          ],
          "Humanismo": "Influencia italiana",
          "Poesía": "Jorge Manrique – Coplas a la muerte de su padre",
          "Comedia humanística": "Fernando de Rojas – La Celestina"
        }
      };

      dibujarMapa(mapaConceptual, 0);
    }

    function dibujarMapa(data, nivel) {
      let indent = "  ".repeat(nivel);

      if (Array.isArray(data)) {
        for (let item of data) {
          text(indent + "- " + item, xStart, yStart);
          yStart += 20;
        }
      } else if (typeof data === "object" && data !== null) {
        for (let key in data) {
          text(indent + key + ":", xStart, yStart);
          yStart += 20;
          dibujarMapa(data[key], nivel + 1);
        }
      } else {
        text(indent + "- " + data, xStart, yStart);
        yStart += 20;
      }
    }
  </script>
</body>
</html>
